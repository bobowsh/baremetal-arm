# 概述

现代编程有多种形式。有网络开发、桌面应用程序开发、移动开发等等。嵌入式编程是编程的一个领域，可以与其他领域截然不同。嵌入式编程是指为主要嵌入在更大系统中的计算机进行编程，嵌入式计算机通常负责特定任务，而不是通用计算设备。嵌入它的系统可能是一个简单的袖珍计算器，或者是一个工业机器人，或者是太空船。一些嵌入式设备是内存很小、频率很低的微控制器，而另一些则更强大。

嵌入式计算机可能运行一个完全更新的操作系统，或者一个只提供一些实时功能调度的极简主义系统。在根本没有操作系统的情况下，计算机被称为“裸机”，因此“裸机编程”是直接为缺乏操作系统的（微型）计算机编程。裸机编程既具有很高的挑战性，也与其他类型的编程非常不同。代码直接与底层硬件接口，并且通用抽象不可用。没有文件、进程或命令行。如果没有一些准备步骤，您甚至无法获得最简单的C代码。而且，在最大的挑战之一中，失败往往是绝对的和神秘的。嵌入式开发人员开发诸如电压表和示波器之类的工具来调试他们的软件并不罕见。

现代嵌入式硬件有很多类型，但该领域主要由实现ARM架构的CPU主导。智能手机和其他移动设备通常运行高通Snapdragon或苹果A系列CPU，这些CPU都基于ARM架构。在微控制器中，ARM Cortex-M和Cortex-R系列CPU内核非常受欢迎。ARM体系结构在现代计算中发挥着非常重要的作用。

这本电子书的主题是ARM系统的C语言裸机编程。具体而言，使用了ARMv7-A架构，这是最后一个纯32位ARM架构，与较新的ARMv8/AArch64不同。ARMv7-A中的-A后缀表示A配置文件，用于资源密集型应用程序。相应的微控制器体系结构是ARMv7-M。

请注意，这不是关于如何编写操作系统的教程。本电子书中涉及的一些主题与操作系统开发相关，但这里没有涉及许多特定于操作系统的方面。

##目标受众

这本电子书面向的是那些对低级编程感兴趣的人，以及那些对如何从头开始构建系统感兴趣的人们。所涵盖的主题包括系统启动、驱动程序开发和低级别内存管理。在大多数情况下，尽管提供了背景理论，但这些章节通过构建一些东西，从实践的角度涵盖了一些事情。

读者应该熟悉C语言编程。这不是一本C教程，尽管偶尔会有关于该语言的笔记，但如果没有用C编程，这本电子书可能很难阅读。一些对汇编语言的最少接触和对计算机体系结构的理解是非常有用的，尽管在介绍汇编代码时会逐行解释。

在基本层面上熟悉Linux也很有帮助。如果出现问题，您应该能够导航目录、运行shell脚本并进行基本的故障排除——幸运的是，即使对于缺乏经验的Linux用户来说，简单的在线搜索也足以解决问题。电子书假设所有的开发都是在Linux上完成的，尽管应该可以在OS X甚至Windows上进行，但要有一些创造力。

有经验的嵌入式开发人员不太可能在本文中找到太多价值。

##格式和术语

电子书在很大程度上试图遵循与编程相关的文本的常规惯例。命令、代码位或对变量的引用被“像代码一样格式化”，较大的代码片段如下所示：
```
void do_amazing_things(void) {
    int answer = 42;
    /* A lot happens here! */
}
```
如果你正在阅读PDF版本，请注意，较长的代码行必须被包装以适应页面，但每个代码块内的缩进和行号应该有助于保持清晰。

由于一些不幸的历史遗留问题，常用的数据大小有两种不同的定义。有二进制定义，其中千字节是1024字节，还有度量定义，其中千字节是1000字节。在这本电子书中，所有对数据量的引用都是二进制的。书中“十亿”的意思是“10^9”。

##源代码

对于每一章，都有相应的源代码。如果你正在GitHub上阅读这篇文章，你可以浏览存储库并查看其自述文件以获取更多信息。如果你正在阅读PDF版本或其他独立副本，你可以前往[GitHub存储库](https://github.com/umanovskis/baremetal-arm/)访问源代码，也许还会更新这本电子书。存储库URL为`https://github.com/umanovskis/baremetal-arm/`.

##许可

该电子书根据知识共享署名共享（CC-BY-SA）[许可证]获得许可(http://creativecommons.org/licenses/by-nc-sa/4.0/)-有关许可的更多详细信息，请参阅Git存储库。

##致谢和致谢

这本电子书的PDF版本是使用[Eisvogel LaTeX模板]排版的(https://github.com/Wandmalfarbe/pandoc-latex-template)作者：Pascal Wagler。